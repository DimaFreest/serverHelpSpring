http://testservermyhost.ddns.net:8080/api/message

GET http://localhost:8080/api/message?in_name=name&out_name=name1

POST http://testservermyhost.ddns.net:8080/api/message
{
    "in_user" : "name",
    "message" : "hello",
    "out_user" : "name1"
}


using System;
using System.Net;
using System.IO;
using System.Threading.Tasks;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.Collections.Generic;

namespace ConsoleApp1
{
    class Program
    {
        static async Task Main(string[] args)
        {
            string s = "";
            WebRequest request = WebRequest.Create("http://localhost:8080/api/message");
            WebResponse response = await request.GetResponseAsync();
            using (Stream stream = response.GetResponseStream())
            {
                using (StreamReader reader = new StreamReader(stream))
                {
                    s = reader.ReadToEnd();
                }
            }
            response.Close();


            List<Message> message = JsonSerializer.Deserialize<List<Message>>(s);
            foreach (Message m in message)
                Console.WriteLine(m.message);
        }
    }

    class Message
    {

        [JsonPropertyName("id")]
        public int id { get; set; }

        [JsonPropertyName("in_name")]
        public string in_name { get; set; }

        [JsonPropertyName("message")]
        public string message { get; set; }

        [JsonPropertyName("out_name")]
        public string out_name { get; set; }
        public Message(int id, string in_name, string message, string out_name)
        {
            this.id = id;
            this.in_name = in_name;
            this.message = message;
            this.out_name = out_name;
        }
    }
}
